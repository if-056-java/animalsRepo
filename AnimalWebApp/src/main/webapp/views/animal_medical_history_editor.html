<section id="animal_medical_history_editor">
    <div class="jumbotron">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="titlewrap">
                        <h2 class="title center">
                            {{ 'MEDICAL_CARD_ADD_RECORD' | translate }}
                        </h2>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Spinner -->
    <div class="spin" us-spinner="{radius:20, width:10, length: 15}"></div>

    <!-- Error message -->
    <h3 class="alert alert-danger col-xs-12 col-sm-12 col-md-12 col-lg-12 an-allow repeat-animation hide-fade"
        ng-repeat="alert in errors">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> {{alert.msg}}
    </h3>

    <div class="container" ng-hide="contentLoading || (errors.length > 0)">

        <form name="animalMedicalHistoryEditor" ng-submit="submit(animalMedicalHistoryEditor.$valid)" novalidate>

            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel panel-default">
                    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 panel-body">

                        <!-- Date -->
                        <p class="input-group" ng-controller="DPController">
                            <span class="input-group-addon">{{ 'DATE' | translate }}</span>
                            <input type="text" class="form-control border-right-radius" datepicker-popup="yyyy-MM-dd"
                                   ng-model="item.date"
                                   popover-placement="right"
                                   is-open="opened" datepicker-options="dateOptions"
                                   current-text="{{ 'TODAY' | translate }}" clear-text="{{ 'CLEAR' | translate }}"
                                   close-text="{{ 'CLOSE' | translate }}" ng-required="true" close-text="Close"
                                   ng-click="open($event)"/>
                        </p>

                        <hr>

                        <!-- Type -->
                        <div class="input-group">
                            <span class="input-group-addon">{{ 'TYPE' | translate }}</span>
                            <ol class="nya-bs-select nya-bs-select-mod" ng-model="item.status"
                                title="{{ 'NOT_SELECTED' | translate }}" ng-required="true">
                                <li nya-bs-option="itemType in itemTypes.values">
                                    <a ng-if="currentLanguage === 'uk'">{{ itemType.status }}</a>
                                    <a ng-if="currentLanguage !== 'uk'">{{ itemType.statusEn }}</a>
                                </li>
                            </ol>
                        </div>

                    </div>

                    <!-- Description -->
                    <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8 panel-body">
                        <div class="form-group"
                             ng-class="{ 'has-error' : animalMedicalHistoryEditor.description.$invalid && !animalMedicalHistoryEditor.description.$pristine }">
                            <label for="comment">{{ 'DESCRIPTION' | translate }}:</label>
                            <textarea class="form-control" rows="3" id="comment" ng-model="item.description"
                                      name="description" ng-maxlength="255"></textarea>
                        </div>
                    </div>

                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 panel panel-default">
                    <div class="row">

                        <!-- Animal photo -->
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 panel-body">
                            <img class="img-responsive img-thumbnail center-block" src="{{ animalImage }}">
                        </div>

                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 panel-body">

                            <!-- Animal type -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'TYPE' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8" ng-if="currentLanguage === 'uk'">{{
                                    animal.type.type }}
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8" ng-if="currentLanguage !== 'uk'">{{
                                    animal.type.typeEn }}
                                </div>
                            </div>
                            <hr>

                            <!-- Animal breed -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'BREED' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8" ng-if="currentLanguage === 'uk'">{{
                                    animal.breed.breedUa }}
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8" ng-if="currentLanguage !== 'uk'">{{
                                    animal.breed.breedEn }}
                                </div>
                            </div>
                            <hr>

                            <!-- Animal color -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'COLOR' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">{{ animal.color }}</div>
                            </div>
                            <hr>

                            <!-- Animal transpounder number -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'TRANSPONDER' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">{{ animal.transpNumber }}</div>
                            </div>
                            <hr>

                            <!-- Animal token number -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'TOKEN_NUMBER' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">{{ animal.tokenNumber }}</div>
                            </div>
                            <hr>

                            <!-- Animal date of birth -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'BIRTH_DATE' | translate }}:</div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">{{ animal.dateOfBirth }}</div>
                            </div>
                            <hr>

                            <!-- Animal date of registration -->
                            <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">{{ 'REGISTRATION_DATE' | translate }}:
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">{{ animal.dateOfRegister }}</div>
                            </div>
                            <hr>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-12 col-sm-5 col-sm-offset-7 col-md-4 col-md-offset-8 col-lg-3 col-lg-offset-9 detailed-buttons">
                    <button type="submit" ng-disabled="animalMedicalHistoryEditor.$invalid" id="submit-form"
                            class="btn btn-primary col-sm-6 col-md-6 col-lg-6">{{ 'SAVE' | translate }}
                    </button>
                    <div class="col-sm-6 col-md-6 col-lg-6">
                        <a class="btn btn-warning col-xs-12 col-sm-12 col-md-12 col-lg-12"
                           href="#/ua/user/doctor/animals/medical_history/{{ animal.id }}"
                           role="button">{{ 'BACK' | translate }}</a></div>
                </div>
            </div>

        </form>

    </div>
</section>
